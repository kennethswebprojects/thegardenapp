extends dashboardlayout

block content
    head
        link(rel='stylesheet', href="../css/style.css", type="text/css")
        link(rel='stylesheet', href='dist/switchery.css')
        script(src='dist/switchery.js')
        script(src='https://code.jquery.com/jquery-3.1.1.min.js')
        script(src='https://code.highcharts.com/highcharts.js')
        script(src='https://code.highcharts.com/modules/exporting.js')


    body
        h1= title
        p Welcome to the Data / Internet of Things page
        p This is the section of The Garden App where you can remotely interact with the irrigation system and learn about the status of the environment in the polytunnel through the use of sensors, the Raspberry Pi micro-computer and Arduino micro-controllers.

        br
        br
        p This is the switch for the first water pump
        input.js-switch(type='checkbox', checked='')
        p This is the switch for the second water pump
        input.js-switch(type='checkbox', checked='')
        p This is the switch for the third water pump
        input.js-switch(type='checkbox', checked='')
        p This is the switch for the fourth water pump
        input.js-switch(type='checkbox', checked='')

        br
        br
        h2 This is the Data section for graphing sensor data
        p The graph below represents temperature within the polytunnel
        br
        br
        #container(style='height: 400px')
            button#button.autocompare Add series

        script.
            var elems = Array.prototype.slice.call(document.querySelectorAll('.js-switch'));

            elems.forEach(function (html) {
                var switchery = new Switchery(elems, {disabled: true});
                var switchery = new Switchery(html);

            });

        script.
            var chart = Highcharts.chart('container', {
                xAxis: {
                    categories: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']
                },
                series: [{
                    data: [29.9, 71.5, 106.4, 129.2, 144.0, 176.0, 135.6, 148.5, 216.4, 194.1, 95.6, 54.4]
                }]
            });

            // the button handler
            $('#button').click(function () {
                if (chart.series.length === 1) {
                    chart.addSeries({
                        data: [194.1, 95.6, 54.4, 29.9, 71.5, 106.4, 129.2, 144.0, 176.0, 135.6, 148.5, 216.4]
                    });
                }
            });
